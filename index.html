<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>OBCAM</title>
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<meta name="author" content="" />
		<meta name="version" content="" />
		<!-- Mobile Redirect if screen is too small. -->
		<meta name="metro4:init" content="true">

		<script type="text/javascript">
			if (screen.width <= 720) {
				window.location = "mobile.html";
			}
		</script>
		<link rel="stylesheet" type="text/css" href="lib/jquery/fontselect/styles/fontselect-bootstrap4.css" />
		<link href="https://fonts.googleapis.com/css?family=Bowlby+One+SC" rel="stylesheet">
		<link type="text/css" rel="stylesheet" media="all" href="css/main.css" />
		<link type="text/css" rel="stylesheet" media="all" href="css/grpblock.css" />
		<link type="text/css" rel="stylesheet" media="all" href="lib/jquery/jquery-ui.css" />
		<link rel="stylesheet" href="lib/metro4/css/metro-all.css" />
		<!-- <link rel="stylesheet" href="https://cdn.metroui.org.ua/v4/css/metro-all.min.css"> -->
		<link type="text/css" rel="stylesheet" media="all" href="css/sidebarmenu.css" />
		<link type="text/css" rel="stylesheet" media="all" href="css/iconlib.css" />
		<link type="text/css" rel="stylesheet" media="all" href="css/image-checkbox.css" />
		<link type="text/css" rel="stylesheet" media="all" href="css/splash.css" />

		<link rel="manifest" href="/manifest.json">
	</head>

	<body>

		<div id="splash">
			<center>
				<div id="openbuildslogosplash" style="display: none;">
					<h1 style="position: fixed; top: 100px; left: 50%; transform: translateX(-50%); ">卡核<sup>&reg;</sup>&nbsp;OBCAM</h1>
					<div id="loading-icon">

						<div id="load-ring">
						</div>

						<div id="load-ring-second">
						</div>

						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 98 98">
							<g inkscape:groupmode="layer" id="layer2" inkscape:label="Layer 2">
								<circle style="opacity:1;mix-blend-mode:normal;fill:#ffffff;fill-opacity:0.995984;stroke:none;stroke-width:0.319262;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0;paint-order:markers fill stroke"
									id="path831" cx="48.947918" cy="48.947918" r="48.947918" />
							</g>
							<g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1">
								<path style="fill:#000001;fill-opacity:1;stroke:#000000;stroke-width:0.229295;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.911647"
									d="M 41.724417,97.153288 C 7.8893711,91.663168 -10.237781,54.730442 6.3414223,25.063074 26.776851,-11.504743 81.11003,-6.9263244 94.989281,32.533036 107.17501,67.177604 77.660443,102.9843 41.724417,97.153288 Z M 55.162218,96.560784 C 95.32486,90.947675 111.21754,42.386841 82.127307,14.167626 55.380558,-11.778279 10.298455,1.9142827 2.0101952,38.501195 -5.2419835,70.514495 22.74975,101.09073 55.162218,96.560784 Z M 42.182578,93.476472 C 9.1990746,88.070933 -6.9110156,50.983155 11.721752,23.351259 32.448727,-7.386274 80.17692,-0.74575393 91.738625,34.484165 102.2852,66.620893 75.182263,98.88467 42.182578,93.476472 Z M 54.570245,92.896884 C 93.037603,87.506128 107.01684,40.083184 77.571669,14.867181 52.771124,-6.3713026 13.410171,6.5282892 5.8636505,38.367737 -1.3026826,68.603134 24.198734,97.153079 54.570245,92.896884 Z M 22.50714,76.745813 c -2.582254,-2.591301 -3.580353,-3.737705 -3.447408,-3.959646 0.102919,-0.171814 1.253755,-1.734022 2.557416,-3.471574 2.959106,-3.943998 2.831963,-3.351577 1.353331,-6.30587 -0.692345,-1.383306 -1.487151,-3.38747 -1.766228,-4.453697 -0.507417,-1.9386 -0.507417,-1.9386 -5.112847,-2.617838 -4.605429,-0.679246 -4.605429,-0.679246 -4.667005,-5.905418 -0.07272,-6.173513 -0.691801,-5.377613 4.757698,-6.116861 4.539836,-0.615844 4.581587,-0.62648 4.581587,-1.167306 0,-0.724698 2.103504,-6.013126 2.891228,-7.26883 0.744033,-1.186071 0.744033,-1.186071 -1.875373,-4.687366 -1.440674,-1.925718 -2.619416,-3.717415 -2.619416,-3.981556 0,-0.59059 6.574282,-7.246076 7.157667,-7.246076 0.21686,0 1.991928,1.18683 3.9446,2.6374 3.550318,2.637401 3.550318,2.637401 4.623465,1.95545 1.187355,-0.754526 6.735496,-2.986039 7.424101,-2.986039 0.520725,0 0.523557,-0.01117 1.134836,-4.476117 0.259259,-1.893743 0.52804,-3.729112 0.597288,-4.078599 0.125906,-0.63543 0.125906,-0.63543 5.432877,-0.573861 5.898639,0.06842 5.237039,-0.673108 6.328134,7.092769 0.278368,1.981218 0.278368,1.981218 2.263012,2.502502 1.091554,0.286707 3.147561,1.109758 4.568893,1.829007 2.584255,1.307721 2.584255,1.307721 6.052337,-1.297396 1.907452,-1.432813 3.632184,-2.605116 3.832737,-2.605116 0.609089,0 7.437248,7.005672 7.265439,7.45432 -0.08044,0.210054 -1.284882,1.91745 -2.676528,3.794212 -2.530262,3.412282 -2.530262,3.412282 -1.182107,6.124452 0.741475,1.491682 1.541984,3.473845 1.778882,4.404799 0.519566,2.041688 0.291772,1.92349 4.909286,2.547246 1.952889,0.263802 3.834207,0.536384 4.180687,0.60572 0.629976,0.126076 0.629976,0.126076 0.629976,5.373814 0,2.886256 -0.08218,5.298613 -0.182559,5.360791 -0.100404,0.0622 -2.16211,0.395457 -4.58158,0.740611 -3.219365,0.459265 -4.399028,0.710261 -4.399028,0.935994 0,0.608912 -2.332174,6.408243 -2.991702,7.439316 -0.861763,1.347275 -1.064718,0.842053 1.960849,4.881042 1.448926,1.934239 2.634407,3.664094 2.634407,3.844116 0,0.406131 -6.881496,7.322863 -7.28556,7.322863 -0.161312,0 -1.909062,-1.202796 -3.883907,-2.67287 -3.590622,-2.672868 -3.590622,-2.672868 -4.285617,-2.258903 -1.837138,1.094257 -2.35653,1.329923 -2.667528,1.210342 -0.312455,-0.120143 -8.231627,-16.77286 -8.218372,-17.281897 0.0035,-0.126249 0.530958,-0.539429 1.172603,-0.918176 8.021633,-4.734996 5.224846,-17.444302 -4.057459,-18.43813 -10.613507,-1.13636 -15.509433,13.098568 -6.354186,18.474803 1.334743,0.783797 1.469237,0.328271 -2.804465,9.498405 -4.53297,9.726451 -3.958097,8.96937 -6.020406,7.928701 -0.895717,-0.451993 -1.665128,-0.821805 -1.709813,-0.821805 -0.04468,0 -1.662643,1.187898 -3.595462,2.639765 -1.932808,1.451867 -3.626716,2.639765 -3.764234,2.639765 -0.137506,0 -1.885554,-1.641275 -3.884546,-3.647258 z"
									id="path24" sodipodi:nodetypes="csscssssscsscsscsscssscsssssssssssssssssssscsssssscsssscsccssssssss" />
							</g>
						</svg>
					</div>

				</div>
			</center>
		</div>

		<!-- container1 Drog Container wraps all other content -->
		<div id="container1">
			<span class="fa-layers fa-fw fa-4x" id="flyingdoc" style="display: none; position: absolute; z-index: 20000;">
				<i class="fas fa-square fg-red"></i>
				<i class="fa fa-object-group fg-white" data-fa-transform="shrink-6"></i>
			</span>
			<div data-role="splitter" data-split-sizes="80,20" data-min-sizes="480,400" class="h-100">
				<div id="col1" style="overflow: hidden;">
					<div class="window drop-shadow" style="height: calc(100% - 10px); overflow: hidden;">
						<div class="window-caption bg-openbuilds">
							<span class="icon" style="top: -2px;"><img src="icon-transparent.png" /></span>
							<span class="title">OBCAM <span class="workspaceTitle"></span></span>
						</div>
						<div class="window-content pt-2" style="overflow:hidden; ">
							<nav data-role="ribbonmenu">
								<ul class="tabs-holder">
									<li><a href="#section-workspace"><i class="fas fa-object-group"></i> 项目</a></li>
									<li><a href="#section-settings"><i class="fa fa-fw fa-cogs"></i> 设置</a></li>
								</ul>
								<div class="content-holder">
									<div class="section" id="section-workspace">

										<div class="group">

											<div class="ribbon-button btn-file" title="打开绘图">
												<span class="icon">
													<span class="far fa-folder-open fg-amber"></span>
												</span>
												<input id="file" type="file" accept=".svg,.dxf,.gif,.jpg,.jpeg,.tiff,.png,.bmp,.gbl,.gtl,.gbr,.dri,.txt" multiple />
												<span class="caption">打开<br>绘图</span>
											</div>


											<span class="title">文件</span>
										</div>

										<div class="group">
											<div class="ribbon-group">
												<button class="ribbon-icon-button" onclick="storeUndo(true); objectsInScene.length = 0; toolpathsInScene.length = 0; trashGcode(); fillTree(); $('.workspaceTitle').html('');">
													<span class="icon">
														<span class="far fa-file"></span>
													</span>
													<span class="caption">新建项目</span>
												</button>
												<div>
													<button class="ribbon-icon-button dropdown-toggle">
														<span class="icon">
															<span class="fas fa-download"></span>
														</span>
														<span class="caption">保存/打开项目</span>
													</button>
													<ul class="ribbon-dropdown" data-role="dropdown" data-duration="100">
														<li onclick="exportWorkspace()"><a href="#">保存项目 (Export .OBC file)</a></li>
														<li class="btn-file"><a href="#">打开项目 (.JSON, .OBC)</a><input type="file" id="workspaceImport" accept=".json,.obc" multiple style="height: 26px;" /></li>
													</ul>
												</div>
												<div>
													<button class="ribbon-icon-button dropdown-toggle">
														<span class="icon">
															<span class="fas fa-cog"></span>
														</span>
														<span class="caption">加载示例项目</span>
													</button>
													<ul class="ribbon-dropdown" data-role="dropdown" data-duration="100">
														<li onclick="helloWorld()"><a href="#">CNC Hello World</a></li>
														<li onclick="helloWorldLaser()"><a href="#">Laser Hello World</a></li>
														<li onclick="helloWorldPlasma()"><a href="#">Plasma Hello World</a></li>
														<li onclick="helloWorldDragKnife()"><a href="#">Dragknife Hello World</a></li>
													</ul>
												</div>
											</div>
											<span class="title">项目</span>
										</div>

										<div class="group">
											<div class="ribbon-group">
												<button class="ribbon-icon-button" onclick="Metro.dialog.open(' #addShapeText ');">
													<span class="icon">
														<span class="fas fa-font"></span>
													</span>
													<span class="caption">文字</span>
												</button>
												<br>

												<div>
													<button class="ribbon-icon-button dropdown-toggle">
														<span class="icon">
															<span class="far fa-square"></span>
														</span>
														<span class="caption">形状</span>
													</button>
													<ul class="ribbon-dropdown" data-role="dropdown" data-duration="100">
														<li onclick="Metro.dialog.open(' #addShapeCircle ');"><a href="#">圆</a></li>
														<li onclick="Metro.dialog.open(' #addShapeRect ');"><a href="#">矩形</a></li>
													</ul>
												</div>



												<div class="ribbon-group">

													<button class="ribbon-icon-button" onclick="Metro.dialog.open(' #iconslibModal ');">
														<span class="icon">
															<span class="far fa-images"></span>
														</span>
														<span class="caption">图标</span>
													</button>

												</div>

											</div>
											<span class="title">绘制</span>
										</div>

										<div class="group">
											<div class="ribbon-group">
												<button class="ribbon-icon-button" onclick="resetView();">
													<span class="icon">
														<span class="fa fa-eye"></span>
													</span>
													<span class="caption">工作台</span>
												</button>
												<br>
												<button class="ribbon-icon-button" onclick="resetView(scene.getObjectByName('Grid'));">
													<span class="icon">
														<span class="fa fa-th"></span>
													</span>
													<span class="caption">网格</span>
												</button>
											</div>
											<span class="title">缩放</span>
										</div>
										<div class="group">
											<div class="ribbon-group">
												<button class="ribbon-icon-button" onclick="undo()">
													<span class="icon">
														<span class="fas fa-undo"></span>
													</span>
													<span class="caption">撤销</span>
												</button>
												<br>
												<button class="ribbon-icon-button" onclick="redo()">
													<span class="icon">
														<span class="fas fa-redo"></span>
													</span>
													<span class="caption">恢复</span>
												</button>
											</div>
											<span class="title">撤销/恢复</span>
										</div>



									</div>
									<div class="section" id="section-settings">
										<div class="group">
											<button class="ribbon-button" onclick="Metro.dialog.open('#settingsmodal');">
												<span class="icon">
													<span class="fa fa-fw fa-cogs"></span>
												</span>
												<span class="caption">设置</span>
											</button>

											<div class="ribbon-group">
												<button class="ribbon-icon-button" onclick="backupSettingsLocal()" title="做个备份">
													<span class="icon">
														<span class="fa fa-download fa-fw"></span>
													</span>
													<span class="caption">备份设置</span>
												</button>
												<br>

												<button class="ribbon-icon-button btn-file" title="打开备份设置文件">
													<span class="icon">
														<span class="fa fa-upload fa-fw"></span>
													</span>
													<span class="caption">恢复设置</span>
													<input id="jsonFile" type="file" accept=".json" />
												</button>
												<br>

												<button class="ribbon-icon-button btn-file" onclick="ConfirmDelete()" title="将所有设置重置为默认值">
													<span class="icon">
														<span class="fa fa-exclamation-triangle fa-fw"></span>
													</span>
													<span class="caption">默认设置</span>
												</button>
												<br>
											</div>
											<span class="title">设置</span>
										</div>


<!--
										<div class="group">
											<div class="ribbon-group">
												<button class="ribbon-icon-button" onclick="getChangelog()">
													<span class="icon">
														<span class="fa fa-fw fa-list"></span>
													</span>
													<span class="caption">Changelog</span>
												</button>
												<br>
												<button class="ribbon-icon-button" onclick="window.open('https://github.com/openbuilds/OpenBuilds-CAM/fork', '_blank').focus();">
													<span class="icon">
														<span class="fas fa-code-branch"></span>
													</span>
													<span class="caption">Fork <span id="forksCount" class="tally success"> 0 </span></span>
												</button>
											</div>
											<span class="title">App</span>
										</div>
-->
										<div class="group">

											<div id="ddThemeButton">
												<button id="btnTheme" class="ribbon-button" onclick="Theme.toggle();">
													<span class="icon" id="currentThemeIcon">
														<i class="fas fa-paint-brush"></i>
													</span>
													<span class="caption" id="currentThemeName">暗<br>模式</span>
													<!--<span class="h6 badge bg-green fg-white"> <i class="fas fa-brush  fa-spin"></i> New!</span>-->
												</button>
											</div>
											<span class="title">主题</span>
										</div>


									</div>
							</nav>
							<div id="renderArea">

								<div style="position: absolute; top: 10px; right:10px; z-index: 1; max-width: 100px; max-width: 100px;" id="overlayimg"></div>

								<!-- #draganddrop -->
								<div id="draganddrop" style="display: none;">
									<div class="well">将文件放到此处！</div>
									<img src="images/draganddrop.svg" />
								</div>
								<div class="sidemenu">
									<div class="tbtn tbtnactive mouseSelectBtn" onclick="mouseSelectMode();" title="鼠标选择模式">
										<i class="fa fas fa-mouse-pointer" aria-hidden="true"></i>
									</div>

									<div class="tbtn mouseMoveBtn" onclick="mouseMoveMode();" title="鼠标移动模式">
										<i class="fas fa-arrows-alt " aria-hidden="true"></i>
									</div>

									<div class="tbtn mouseDelBtn" onclick="mouseEraseMode();" title="鼠标擦除模式">
										<i class="fas fa-eraser " aria-hidden="true"></i>
									</div>
									<!-- <hr class="bg-grayBlue"> -->
									<div class="tbtn mouseScaleBtn" onclick="mouseScaleMode();" title="鼠标缩放/移动/旋转模式">
										<i class="fas fa-ruler" aria-hidden="true"></i>
									</div>

								</div>
								<div id="selection" style="visibility: hidden;"></div>
								<!--  -->

								<!--  -->
							</div>

							<div id="scalewindow" style="visibility: hidden;" data-role="draggable" data-drag-element=".drag-element">
								<div class="window">
									<div class="window-caption drag-element bg-openbuilds">
										<span class="icon fas fa-ruler"></span>
										<span class="title">变换</span>
										<div class="buttons">
											<span class="btn-close" onclick="scalewindow.style.visibility = 'hidden';"></span>
										</div>
									</div>
									<div class="window-content p-2" id="scalewindowcontent">
										<!--  -->
									</div>
								</div>
							</div>


						</div>
						<div id="helpoverlay">
							<kbd>左键</kbd> = 选择 / <kbd>中键</kbd> = 旋转 / <kbd>右键</kbd> = 移动 / <kbd>滚轮</kbd> = 缩放 / <kbd>Ctrl</kbd> = 多选 / <kbd>Del</kbd> = 删除选择
						</div>
						<div id="simoverlay" class="text-center">
							<button class="button dark drop-shadow" onclick="simSpeed();"><span class="icon"><span class="fas fa-tachometer-alt"></span></span><span class="caption"><span id="simspeedval">1</span>x</span></button>
							<button id="runSimBtn" title="运行模拟" class="button dark drop-shadow" onclick="sim(0)" disabled><i class="fas fa-fighter-jet"></i> 模拟</button>&nbsp;
							<button id="stopSimBtn" style="display: none;" title="停止模拟" class="button dark drop-shadow" onclick="simstop()"><i class="fas fa-stop"></i> 停止</button>&nbsp;
							<button id="resetViewBtn" title="重置视图" class="button dark drop-shadow" onclick="resetView(object)"><i class="fas fa-stop"></i> 重置视图</button>&nbsp;
							<div class="text-left viewer-checkboxes drop-shadow">
								<div data-role="collapse" data-collapsed="false" data-toggle-element="#collapse_toggle_1">
									<input type="checkbox" data-role="checkbox" data-caption="文档" checked data-style="2" id="view-docs">
									<input type="checkbox" data-role="checkbox" data-caption="刀具路径" checked data-style="2" id="view-toolpath">
									<input type="checkbox" data-role="checkbox" data-caption="G代码" checked data-style="2" id="view-gcode">
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- #col2 (main content)-->
				<div id="col2">
					<!-- <div style="height: 100%; overflow-y:hidden; padding-right:5px;"> -->

					<div data-role="splitter" data-split-mode="vertical" data-split-sizes="25,55,10,10" data-min-sizes="200,200,100,110" class="h-100">
						<div id="renderDocuments" class="window drop-shadow">
							<div class="window-caption bg-openbuilds">
								<i class="far fa-file-alt fa-fw ml-1 mr-1"></i>
								<span class="title">1. 文档 <span class="workspaceTitle"></span></span>
							</div>
							<div id="selectoverlay" class="text-center mt-1">
								<button class="button drop-shadow" id="selectAll"><span class="far fa-check-square"></span> 全选</button>
								<button class="button drop-shadow" id="selectNone"><span class="far fa-square"></span> 不选</button>
								<button class="button drop-shadow" id="selectInv"><span class="fas fa-check"></span> 反选</button>
								<button class="button drop-shadow" id="selectDel"><span class="fas fa-trash"></span> 删除</button>
							</div>
							<div class="window-content p-1" style="overflow-y:scroll;">
								<!-- Documents Here -->
								<div class="pt-2" id="documentactivity" style="display: none;">
									<center>
										<h5>请等待 </h5>
										<div data-role="activity" data-type="ring" data-style="dark"></div>
										<h6>正在解析文档...</h6>
								</div>

								<div id="documentstree">
									<div id="nodocuments" style="display:none;">
										<p class="text-secondary text-center mt-3">请从 DXF（折线）或 SVG（路径）加载一些矢量;或图像（可追溯）;或使用内置工具插入形状、图标或一些文本以开始使用
										</p>
										<p class="text-center">
											<button class="button success drop-shadow" style="width: 300px;" title="打开绘图" onclick="$('#file').click();"><span class="far fa-folder-open fa-fw icon"></span>打开绘图</button>
										</p>


									</div>
									<ul data-role="treeview pl-0" id="left-tree-view">
									</ul>
								</div>

							</div>

						</div>
						<div class="window drop-shadow mt-2">
							<div class="window-caption bg-openbuilds">
								<i class="fas fa-tasks fa-fw ml-1 mr-1"></i>
								<span class="title">2. 配置刀具路径</span>
								<div class="buttons">

								</div>
							</div>
							<div id="tpathoverlay" class="text-center mt-1">
								<div class="split-button drop-shadow">
									<button class="button" id="addJobBtn" onclick="addJob(-1);"><span class="icon fa-fw fa fa-plus"></span><span class="addJobBtn-text">请选择“矢量”以创建刀具路径</span></button>
									<button class="split dropdown-toggle outline" id="addJobMenuBtn" display: none;></button>
									<ul class="d-menu" data-role="dropdown" id="toolpathsmenu">
										<!--  -->
									</ul>
								</div>

							</div>

							<div class="window-content p-1" style="overflow-y:scroll;">
								<div class="pt-2" id="toolpathactivity" style="display: none;">
									<center>
										<h5>请等待 </h5>
										<div data-role="activity" data-type="ring" data-style="dark"></div>
										<h6>正在计算刀具路径...</h6>
								</div>
								<div id="toolpathtree">
								</div>

							</div>
						</div>

						<div class="window drop-shadow mt-2">
							<div class="window-caption bg-openbuilds">
								<i class="fa fa-cubes fa-fw ml-1 mr-1"></i>
								<span class="title">3. 创建G代码</span>
								<div class="buttons">
								</div>
							</div>
							<div class="window-content p-1 text-center  mt-1" style="overflow-y:hidden;">
								<button class="button drop-shadow" style="width: 300px;" title="生成GCODE" id="generatetpgcode" onclick="makeGcode();"><span class="fa fa-cubes fa-fw icon"></span>生成GCODE</button>
							</div>
						</div>

						<div class="window drop-shadow mt-2">
							<div class="window-caption bg-openbuilds">
								<i class="fa fa-save fa-fw ml-1 mr-1"></i>
								<span class="title">4. 导出G代码</span>
								<div class="buttons">
								</div>
							</div>


							<div class="window-content p-1 text-center  mt-1" style="overflow-y:hidden;">

								<button class="button drop-shadow" title="保存GCODE" id="gcodesavebtn2" onclick="saveFile();"><span class="fa fa-save fa-fw icon"></span>保存GCODE</button>
								<button class="button drop-shadow" title="预览GCODE" id="gcodeviewbtn2" onclick="previewFile();"><span id="gcodepreviewicon" class="fa fa-eye fa-fw icon fg-gray"></span></button>
								<button class="button drop-shadow" title="清除GCODE" id="gcodetrashbtn2" onclick="trashGcode();"><span id="trashicon" class="fa fa-trash fa-fw fg-gray icon"></span></button>

							</div>

						</div>

					</div>
					<!-- </div> -->
				</div>
			</div>
		</div>

		<!-- Modals Divs -->
		<div style="display: none;">
			<!-- Hide Dialogs until called -->
			<!-- openjscad output -->
			<textarea id="dxf" style="width: 565px; height: 400px;"></textarea>
			<!-- <div id="openjscad"></div>
		<div oncontextmenu="return false;" id="viewerContext"></div> -->
			<!-- avoiding popup when right mouse is clicked -->

			<div class="dialog dark" data-overlay-click-close="true" data-role="dialog" id="statusmodal" data-to-top="true" data-width="540">
				<div class="dialog-title" id="statusTitle">状态标题 </div>
				<div class="dialog-content">
					<div id="statusBody"></div>
					<div id="statusBody2" style="overflow-y: auto; height: calc(100vh - 430px); "></div>
				</div>
				<div class="dialog-actions" id="statusFooter">
					<button class="button js-dialog-close">Disagree</button>
					<button class="button primary js-dialog-close">Agree</button>
				</div>
			</div>

			<div class="dialog dark" data-overlay-click-close="true" data-role="dialog" id="iconslibModal" data-width="800" data-to-top="true">
				<div class="dialog-title">图标库</div>
				<div class="dialog-content" style="max-height: calc(100vh - 200px);overflow-y: auto; overflow-x: hidden;">
					单击下面的图标将其加载到 CAM 项目中:
					<hr>
					<div id="iconslibrary">

					</div>
				</div>
				<div class="dialog-actions row" style="white-space: nowrap;">
					<button class="button float-right js-dialog-close cell-3">Cancel</button>

					<input id="iconlib_filter" onchange="iconlib_Page()" class="float-left" style="max-width:150px;" data-role="input" data-search-button="true" placeholder="Filter" autofocus type="text" value="">

					<div style="display:inline-block;white-space: normal;">
						<button class="button float-left" onclick="iconlib_Page(-1)"><span class="fa fa-fw fa-arrow-left"></span></button>

						<input data-role="input" id="iconlib_PageOf" onchange="iconlib_Page()" autofocus type="number" min="1" step="1" data-prepend="Page:" data-append="Of #" class="float-left" value="1" style="width:175px;">

						<button class="button float-left" onclick="iconlib_Page(1)"><span class="fa fa-fw fa-arrow-right"></span></button>
					</div>
				</div>
			</div>

			<div class="dialog dark" data-overlay-click-close="true" data-role="dialog" id="splashModal" data-width="800" data-to-top="true">
				<div class="dialog-title"><i class="fas fa-fw fa-history"></i> Changelog</div>
				<div class="dialog-content" style="max-height: calc(100vh - 200px);overflow-y: auto; overflow-x: hidden;">
					<div id="changelog" class="text-small"></div>
				</div>
				<div class="dialog-actions">
					<button class="button js-dialog-close primary">Close</button>
				</div>
			</div>


			<!-- <div class="dialog" data-overlay-click-close="true" data-role="dialog" id="gearGenModal" data-width="600" data-to-top="true">
			<div class="dialog-title">Gear Generator</div>
			<div class="dialog-content" style="max-height: calc(100vh - 200px);overflow-y: auto; overflow-x: hidden;">
				<div id="viewer" style="display: none;"></div>
				<form data-role="validator" id="gearGen">
					<div class="row border-bottom bd-gray">
						<label class="cell-sm-2">Gear Type:</label>
						<div class="cell-sm-10">
							<input name="geartype" type="radio" data-role="radio" data-caption="Gearset: External" value="external" checked onchange="gearType($(this).val())">
							<input name="geartype" type="radio" data-role="radio" data-caption="Gearset: Rack and Pinion" value="rack" onchange="gearType($(this).val())">
							<input name="geartype" type="radio" data-role="radio" data-caption="Gearset: Internal" value="internal" onchange="gearType($(this).val())">
							<input name="geartype" type="radio" data-role="radio" data-caption="Single Gear" value="single" onchange="gearType($(this).val())">
						</div>
					</div>


					<div class="row">
						<label class="cell-sm-4"></label>
						<div class="cell-sm-4 ">
							<center><small id="gear1title">Gear 1</small></center>
						</div>
						<div class="cell-sm-4">
							<center><small id="gear2title">Gear 2</small></center>
						</div>
					</div>
					<div class="row">
						<label class="cell-sm-4">toothCount<br><small>(Number of teeth per gear)</small></label>
						<div class="cell-sm-4 pt-2">
							<input id="toothCount1" data-role="input" type="number" value="45" data-append="x" data-clear-button="false" step="any">
						</div>
						<div class="cell-sm-4 pt-2">
							<input id="toothCount2" data-role="input" type="number" value="50" data-append="x" data-clear-button="false" step="any">
						</div>
					</div>
					<div class="row border-bottom bd-gray">
						<label class="cell-sm-4">centerHoleDiameter<br><small>(0 for no hole)</small></label>
						<div class="cell-sm-4 pt-2">
							<input id="centerHoleDiameter1" data-role="input" type="number" value="20" data-append="mm" data-clear-button="false" min="0" max="200"  step="any">
						</div>
						<div class="cell-sm-4 pt-2">
							<input id="centerHoleDiameter2" data-role="input" type="number" value="20" data-append="mm" data-clear-button="false" min="0" max="200"  step="any">
						</div>
					</div>
					<div class="row border-bottom bd-gray">
						<label class="cell-sm-8">circularPitch<br><small>(the circumference of the pitch circle divided by the number of teeth)</small></label>
						<div class="cell-sm-4 pt-2">
							<input id="circularPitch" data-role="input" type="number" value="8" data-clear-button="false" step="any">
						</div>
					</div>
					<div class="row border-bottom bd-gray">
						<label class="cell-sm-8">pressureAngle<br><small>(common values are 14.5, 20 and 25 degrees)</small></label>
						<div class="cell-sm-4 pt-2">
							<input id="pressureAngle" data-role="input" type="number" value="20" data-append="deg" data-clear-button="false" step="any">
						</div>
					</div>
					<div>
						<input type="checkbox" data-role="switch" data-caption="高级设置" id="advancedGear">
					</div>
					<div data-role="collapse" data-collapsed="true" data-toggle-element="#advancedGear">
						<div class="row border-bottom bd-gray">
							<label class="cell-sm-8">profileShift<br><small>(indicates what portion of gear one's addendum height should be shifted to gear two. E.g., a value of 0.1 means the adddendum of gear two is increased by a factor of 1.1 while the height of the addendum of gear one is reduced to 0.9 of its normal height.)</small></label>
							<div class="cell-sm-4 pt-2">
								<input id="profileShift" data-role="input" type="number" value="0" data-clear-button="false" step="any">
							</div>
						</div>
						<div class="row border-bottom bd-gray">
							<label class="cell-sm-8">resolution<br><small>Number of segments per 360 degree of rotation (only used for circles and arcs); 90 is plenty</small></label>
							<div class="cell-sm-4 pt-2">
								<input id="resolution" data-role="input" type="number" value="30" data-clear-button="false" step="any">
							</div>
						</div>
						<div class="row border-bottom bd-gray">
							<label class="cell-sm-8">stepsPerToothAngle<br><small>Rotation steps per tooth angle when assembling the tooth profile (3 = draft, 10 = good quality). Increasing the value will result in smoother profiles at the cost of significantly higher calcucation time. Increase in small increments and check the result by zooming in.</small></label>
							<div class="cell-sm-4 pt-2">
								<input id="stepsPerToothAngle" data-role="input" type="number" value="3" data-clear-button="false" step="any">
							</div>
						</div>
					</div>
				</form>
				<br>
			</div>
			<div class="dialog-actions">
				<button class="button js-dialog-close">Close</button>
				<button class="button success js-dialog-close" onclick="createGear();">Create Gears</button>
			</div>
		</div>
	</div> -->

	</body>

	<script>
		METRO_HOTKEYS_FILTER_CONTENT_EDITABLE = false;
		METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS = true;
		METRO_HOTKEYS_FILTER_TEXT_INPUTS = true;
	</script>

	<script type="text/javascript" src="lib/fontawesome5/js/all.js"></script>

	<script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
	<!-- <script type="text/javascript" src="lib/popper.min.js"></script> -->
	<!-- <script type="text/javascript" src="lib/bootstrap4/js/bootstrap.min.js"></script> -->
	<script type="text/javascript" src="lib/jquery/jquery-ui.js"></script>
	<script type="text/javascript" src="lib/jquery/jquery.ui.touch-punch.min.js"></script>

	<!-- <link type="text/css" rel="stylesheet" media="all" href="lib/bootoast/src/bootoast.css" />
<script type="text/javascript" src="lib/bootoast/src/bootoast.js"></script> -->

	<!-- METRO -->
	<script type="text/javascript" src="lib/metro4/js/metro.min.js"></script>
	<!-- <script src="https://cdn.metroui.org.ua/v4/js/metro.min.js"></script> -->

	<!-- Helpers -->
	<script type="text/javascript" src="js/helpers.js"></script>

	<!-- Theme  -->
	<script type="text/javascript" src="js/theme.js"></script>

	<!-- Google Fonts as CAM paths -->
	<script type="text/javascript" src="lib/jquery/fontselect/jquery.fontselect.min.js"></script>
	<script type="text/javascript" src="lib/opentypejs/opentype.min.js"></script>

	<!-- SimpleCAD -->
	<script type="text/javascript" src="js/basic-cad-shapes.js"></script>
	<script type="text/javascript" src="js/basic-cad-text.js"></script>
	<script type="text/javascript" src="js/basic-cad-iconslib.js"></script>

	<!-- ThreeJS -->
	<script type="text/javascript" src="lib/threejs/three.min.js"></script>
	<script type="text/javascript" src="lib/threejs/GridRect.js"></script>
	<script type="text/javascript" src="lib/threejs/OrbitControls.js"></script>
	<script type="text/javascript" src="lib/threejs/DragControls.js"></script>
	<script type="text/javascript" src="lib/threejs/Projector.js"></script>
	<script type="text/javascript" src="lib/threejs/CanvasRenderer.js"></script>
	<script type="text/javascript" src="lib/threejs/TransformControls.js"></script>
	<script type="text/javascript" src="lib/threejs/TweenMax.min.js"></script>
	<script type="text/javascript" src="js/viewer.js"></script>
	<script type="text/javascript" src="js/viewer-ruler.js"></script>
	<script type="text/javascript" src="js/viewer-pause.js"></script>


	<!-- CAM populated from threejs objects -->
	<script type="text/javascript" src="lib/gl-matrix.js"></script>
	<script type="text/javascript" src="lib/tbfleming/web-cam-cpp.js"></script>
	<script type="text/javascript" src="lib/clipperjs/clipper_unminified.js"></script>
	<script type="text/javascript" src="js/advanced-cam-fillpath.js"></script>
	<script type="text/javascript" src="js/advanced-cam-geometryutils.js"></script>
	<script type="text/javascript" src="js/advanced-cam.js"></script>
	<script type="text/javascript" src="js/advanced-cam-gcode.js"></script>
	<script type="text/javascript" src="js/advanced-cam-doctree.js"></script>
	<script type="text/javascript" src="js/advanced-cam-tree.js"></script>
	<script type="text/javascript" src="js/advanced-cam-modal.js"></script>
	<script type="text/javascript" src="js/advanced-cam-viewer-mouse.js"></script>
	<script type="text/javascript" src="js/advanced-cam-viewer-select.js"></script>
	<script type="text/javascript" src="js/advanced-cam-workspace-export.js"></script>
	<script type="text/javascript" src="js/advanced-cam-pretty-render.js"></script>
	<script type="text/javascript" src="js/advanced-cam-sim.js"></script>
	<script type="text/javascript" src="js/advanced-cam-keyboard-bindings.js"></script>
	<script type="text/javascript" src="js/advanced-cam-transforms.js"></script>
	<script type="text/javascript" src="js/advanced-cam-drill.js"></script>
	<script type="text/javascript" src="js/advanced-cam-booleans.js"></script>

	<script type="text/javascript" src="js/basic-cad-tool-merge-lines.js"></script>



	<!-- DXF Library -->
	<script type="text/javascript" src="lib/dxf/dxf-parser.js"></script>
	<script type="text/javascript" src="lib/dxf/three-dxf.js"></script>
	<script type="text/javascript" src="js/dxf-render.js"></script>

	<!-- lautr3k's SVG  Library -->
	<script type="text/javascript" src="lib/lw.svg-parser/dist/lw.svg-parser.js"></script>
	<script type="text/javascript" src="js/svgparser.js"></script>

	<!-- Bitmap Tracing -->
	<script type="text/javascript" src="lib/potrace/potrace.js"></script>
	<script type="text/javascript" src="js/potrace.js"></script>

	<!--Settings Widgets -->
	<script type="text/javascript" src="js/application-settings-controller.js"></script>

	<!-- Gcode Viewer -->
	<script type="text/javascript" src="lib/3dview/3dview.js"></script>

	<!-- Hello World Job -->
	<script type="text/javascript" src="js/basic-cad-helloworld.js"></script>

	<!-- Gerber Parser -->
	<script type="text/javascript" src="lib/gerber/parser.js"></script>
	<script type="text/javascript" src="lib/gerber/gerberparser.js"></script>

	<!-- User Interface -->
	<script type="text/javascript" src="js/main.js"></script>

	<!-- WebWorkers -->
	<script src="workers/toolpath/toolpath.js"></script>
	<script src="workers/toolpath/worker/toolpathworker.js"></script>



	<!-- OpenJSCAD -->
	<!-- <script src="lib/openjscad/src/csg.js"></script>
<script src="lib/openjscad/src/threecsg.js"></script>
<script src="lib/openjscad/src/openjscad.js"></script>
<script src="lib/openjscad/src/openscad.js"></script>
<script src="lib/openjscad/src/formats.js"></script>
<script src="lib/openjscad/geargen.js"></script> -->


	<!-- Used by CAD-text -->
	<script src="https://cdn.jsdelivr.net/npm/rsvp@4/dist/rsvp.min.js"></script>

	<script type="x-shader/x-vertex" id="vertexShader">
		varying vec3 vWorldPosition; void main() { vec4 worldPosition = modelMatrix * vec4( position, 1.0 ); vWorldPosition = worldPosition.xyz; gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 ); }

</script>
	<script type="x-shader/x-fragment" id="fragmentShader">
		uniform vec3 topColor; uniform vec3 bottomColor; uniform float offset; uniform float exponent; varying vec3 vWorldPosition; void main() { float h = normalize( vWorldPosition + offset ).z; gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max(
	h , 0.0), exponent ), 0.0 ) ), 1.0 ); }

</script>

	<!-- Google tag (gtag.js) PW -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-0RS08406WF"></script>
	<script>
		window.dataLayer = window.dataLayer || [];

		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());

		gtag('config', 'G-0RS08406WF');
	</script>

	<!-- Google tag (gtag.js) OB -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-99W0NNG5PL"></script>
	<script>
		window.dataLayer = window.dataLayer || [];

		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());

		gtag('config', 'G-99W0NNG5PL');
	</script>

</html>